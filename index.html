<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Mom! üéÇüéà</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(to top, #fbc2eb, #a6c1ee);
      font-family: Arial, sans-serif;
    }
    h1 {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      text-shadow: 2px 2px 5px #00000055;
      font-size: 2em;
      text-align: center;
      z-index: 2;
    }
    #score {
      position: absolute;
      top: 20px;
      right: 20px;
      color: #fff;
      font-size: 1.2em;
      background: rgba(0,0,0,0.3);
      padding: 5px 10px;
      border-radius: 10px;
      z-index: 2;
    }
    .balloon {
      position: absolute;
      width: 70px;
      height: 90px;
      border-radius: 50%;
      background: red;
      cursor: pointer;
      box-shadow: inset -5px -10px 0 rgba(0,0,0,0.2);
      z-index: 3;
    }
    .string {
      position: absolute;
      top: 90px;
      left: 34px;
      width: 4px;
      height: 50px;
      background: #333;
    }
    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.3;
      pointer-events: none;
      animation: floatUp linear infinite;
      z-index: 1;
    }
    @keyframes floatUp {
      0% { transform: translateY(100vh); }
      100% { transform: translateY(-10vh); }
    }
    #message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5em;
      color: white;
      text-align: center;
      display: none;
      text-shadow: 2px 2px 10px #000;
      z-index: 4;
    }
  </style>
</head>
<body>
  <h1>üéâ Pop the Balloons, Mom! üéâ</h1>
  <div id="score">Balloons Popped: 0</div>
  <div id="message">üéÇ Happy Birthday, Mom! üéÇ<br>We love you! ‚ù§Ô∏è</div>

  <script>
    let score = 0;
    const scoreDisplay = document.getElementById("score");
    const message = document.getElementById("message");

    function randomColor() {
      const colors = ["red","blue","green","purple","pink","orange","yellow"];
      return colors[Math.floor(Math.random()*colors.length)];
    }

    // Create background bubbles
    for(let i=0; i<30; i++){
      const bubble = document.createElement("div");
      bubble.classList.add("bubble");
      let size = Math.random()*30+20; // 20px to 50px
      bubble.style.width = size+"px";
      bubble.style.height = size+"px";
      bubble.style.left = Math.random()*window.innerWidth+"px";
      bubble.style.background = randomColor();
      bubble.style.animationDuration = (Math.random()*15 + 10) + "s"; // 10-25s
      document.body.appendChild(bubble);
    }

    function createBalloon() {
      const balloon = document.createElement("div");
      balloon.classList.add("balloon");
      balloon.style.background = randomColor();
      balloon.style.left = Math.random() * (window.innerWidth - 70) + "px";
      balloon.style.top = window.innerHeight + "px";

      const string = document.createElement("div");
      string.classList.add("string");
      balloon.appendChild(string);

      document.body.appendChild(balloon);

      let rise = setInterval(() => {
        let top = parseFloat(balloon.style.top);
        balloon.style.top = top - 2 + "px";
        if (top < -120) {
          balloon.remove();
          clearInterval(rise);
        }
      }, 20);

      balloon.addEventListener("click", () => {
        score++;
        scoreDisplay.textContent = "Balloons Popped: " + score;
        balloon.remove();
        clearInterval(rise);

        if (score >= 41) { // updated for 41 balloons
          message.style.display = "block";
          // üéä Confetti effect
          for (let i = 0; i < 100; i++) {
            let confetti = document.createElement("div");
            confetti.style.position = "fixed";
            confetti.style.width = "8px";
            confetti.style.height = "8px";
            confetti.style.background = randomColor();
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.top = "-10px";
            confetti.style.opacity = "0.9";
            confetti.style.borderRadius = "50%";
            confetti.style.transform = `rotate(${Math.random()*360}deg)`;
            document.body.appendChild(confetti);

            let dx = (Math.random() - 0.5) * 4; // horizontal sway: -2 to 2
            let dy = 2 + Math.random() * 3; // vertical speed: 2 to 5

            let fall = setInterval(() => {
              let top = parseFloat(confetti.style.top);
              let left = parseFloat(confetti.style.left);
              confetti.style.top = top + dy + "px";
              confetti.style.left = left + dx + "px";
              confetti.style.transform = `rotate(${top*2}deg)`;
              if (top > window.innerHeight || left < -10 || left > window.innerWidth+10) {
                confetti.remove();
                clearInterval(fall);
              }
            }, 20);
          }
        }
      });
    }

    setInterval(createBalloon, 1000);
  </script>
</body>
</html>
